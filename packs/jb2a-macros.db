{"name":"Create Actor - Dancing Light - Wildcard","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.ZJDJXMFrG5LmjiTV"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",        \n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n  let testFolder = game.folders.find(f => f.name === \"Dancing Light\" && f.type === \"Actor\");\n  if(!testFolder) testFolder = await Folder.create({ name : `Dancing Light`, type : `Actor`, parent : null });\n\n  await Actor.create({\n    name: \"Dancing light - Wildcard\",\n    type: \"npc\",\n    img: \"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_01_Green_Thumb.webp\",\n    folder: testFolder.id,\n    sort: 12000,\n    token: { img: \"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_*.webm\", scale: 0.8},\n    \"token.randomImg\": true,\n    \"token.disposition\": 1,\n    \"token.vision\": true,\n    \"token.dimLight\": 10,\n    \"token.lightAnimation\":{type: \"torch\", speed: 3, intensity: 7},\n    \"token.lightColor\": \"#ffde85\",\n    \"token.lightAlpha\": 0.2,\n  })\n})();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_01_Green_Thumb.webp","actorIds":[],"_id":"2Q4UKgDo2e0liJq8"}
{"_id":"6cbamga6x7Kve5JY","name":"Blueprint CasterToTarget 30ft 60ft 90ft","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.68CDpJv8wdDdnGI6"}},"scope":"global","command":"//This macro plays the animation on selected targets with a trajectory and distances of 30ft, 60ft and 90ft\n//It works for animations like Scorching Ray, Fire Bolt, Arrow, Boulder Toss, Siege Projectile that use these distances\n//Import this macro, duplicate it and change its name making sure it's unique by adding the colour (i.e. \"Ray Of Frost Blue\").\n//If it has the exact same name as the spell or item you want to trigger it from, you'll encounter an issue.\n\n//folder 01 is the directory path to the assets\n// let folder01 = \"modules/JB2A_DnD5e/Library/2nd_Level/Scorching_Ray/\";\n//anFile30 points to the file corresponding to 30ft, anFile60 for 60ft and anFile90 for 90ft\n// let anFile30 = `${folder01}ScorchingRay_01_Orange_30ft_1600x400.webm`;\n// let anFile60 = `${folder01}ScorchingRay_01_Orange_60ft_2800x400.webm`;\n// let anFile90 = `${folder01}ScorchingRay_01_Orange_90ft_4000x400.webm`;\n\n//How this macro is set up for Fire Bolt\nlet folder01 = \"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/\";\nlet anFile30 = `${folder01}FireBolt_01_Regular_Orange_30ft_1600x400.webm`;\nlet anFile60 = `${folder01}FireBolt_01_Regular_Orange_60ft_2800x400.webm`;\nlet anFile90 = `${folder01}FireBolt_01_Regular_Orange_90ft_4000x400.webm`;\n\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\n\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\n\nlet anFile = anFile30;\nlet anFileSize = 1200;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = anFile30;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = anFile90;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = anFile60;\n    anchorX = 0.071;\n    break;\n}\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (250);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_Thumb.webp","actorIds":[]}
{"name":"Create Actor - Spiritual Weapon","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.pFPiaw9k2o8tKnlz"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",\n       //callback: () => console.log(\"Chose One\")\n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n  let testFolder = game.folders.find(f => f.name === \"Spiritual Weapon\" && f.type === \"Actor\");\n  if(!testFolder) testFolder = await Folder.create({ name : `Spiritual Weapon`, type : `Actor`, parent : null });\n\n  await Actor.create({\n    name: \"Spiritual Weapon\",\n    type: \"npc\",\n    img: \"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon_Mace01_01_Spectral_Blue_Thumb.webp\",\n    folder: testFolder.id,\n    sort: 12000,\n    token: { img: \"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon_Mace01_01_Spectral_Blue_200x200.webm\", scale: 2},      \n    \"token.vision\": true,\n    \"token.disposition\": 1,\n  })\n})();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon_Mace01_01_Spectral_Blue_Thumb.webp","actorIds":[],"_id":"B241LxLDPomkIEXX"}
{"name":"Blueprint CasterToTarget plus OnTarget FX","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.7HdAyp8kUFGxXkAG"}},"scope":"global","command":"//This macro plays the animation on selected targets with a trajectory and distances of 30ft, 60ft and 90ft\n//And We play another animation on top of that on impact. Perfect for Explosive Arrows !\n//folder 01 is the directory path to the Arrow assets and folder02 is for the Explosion\nlet folder01 = \"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/\";\nlet folder02 = \"modules/JB2A_DnD5e/Library/Generic/Explosion/\"\n// anFile30 points to the file corresponding to 30ft, anFile60 for 60ft and anFile90 for 90ft\n//anFileXpl is for the file of the explosion.\nlet anFile30 = `${folder01}Arrow_Simple_01_30ft_1600x400.webm`;\nlet anFile60 = `${folder01}Arrow_Simple_01_60ft_2800x400.webm`;\nlet anFile90 = `${folder01}Arrow_Simple_01_90ft_4000x400.webm`;\nlet anFileXpl = `${folder02}Explosion_01_Orange_400x400.webm`;\n\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\n\nconst sleepNow = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet tarScale = ((mainTarget.data.width + mainTarget.data.height)/2);\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\n\n\nlet anFile = anFile30;\nlet anFileSize = 600;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<=1200):\n    anFileSize = 1200;\n    anFile = anFile30;\n    anchorX = 0.125;\n    break;\n case (anDist>2400):\n    anFileSize = 3600;\n    anFile = anFile90;\n    anchorX = 0.05;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = anFile60;\n    anchorX = 0.071;\n    break;\n}\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 600 ? 0.6  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\nlet spellAnim2 = \n                    {\n                     file: anFileXpl,\n                      position: mainTarget.center,\n                      anchor: {\n                       x: 0.5,\n                       y: 0.5\n                      },\n                      angle: 0,\n                      scale: {\n                       x: tarScale,\n                       y: tarScale\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\nawait sleepNow(800);\ncanvas.fxmaster.playVideo(spellAnim2);\nawait sleepNow(250);\ngame.socket.emit('module.fxmaster', spellAnim,spellAnim2);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/Generic/Explosion/Explosion_01_Orange_Thumb.webp","actorIds":[],"_id":"HGiPjXRvHxrHvznL"}
{"name":"Blueprint CasterToTarget 30ft","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.ve9ZzNtZTztRpYpd"}},"scope":"global","command":"//This macro plays the animation on selected targets with a trajectory and distance of 30ft\n//It works for Laser Shots\n//Import this macro, duplicate it and change its name making sure it's unique by adding the colour (i.e. \"Laser Shot Blue\").\n//folder 01 is the directory path to the assets\nlet folder01 = \"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/\";\n// anFile30 is the file used. Here we only have 30ft\nlet anFile30 = `${folder01}LazerShot_01_Blue_30ft_1600x400.webm`;\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\n\n\n\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\nlet anchorX = 0.125;\nlet anFile = anFile30;\nlet anFileSize = 1200;\n\n\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 200 ? 0.66  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (250);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/LazerShot_01_Blue_Thumb.webp","actorIds":[],"_id":"HhP9VS54Trraylxw"}
{"_id":"MvIFmsSSB7VczHQX","name":"Blueprint CasterToTarget 15ft 30ft 45ft","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.AFtnE8v55aIK2h6h"}},"scope":"global","command":"//This macro plays the animation on selected targets with a trajectory and distances of 15ft, 30ft and 45ft\n//It works for Throwing Dagger, Ray of Frost, Disintegrate\n//Import this macro, duplicate it and change its name making sure it's unique by adding the colour (i.e. \"Ray Of Frost Blue\").\n//If it has the exact same name as the spell or item you want to trigger it from, you'll encounter an issue.\n//folder 01 is the directory path to the assets\n// let folder01 = \"modules/JB2A_DnD5e/Library/Cantrip/Ray_Of_Frost/\";\n//anFile 15 for the 15ft file, anFile30 for 30ft and anFile 45 for 45ft\n// let anFile15 = `${folder01}RayOfFrost_01_Blue_15ft_1000x400.webm`;\n// let anFile30 = `${folder01}RayOfFrost_01_Blue_30ft_1600x400.webm`;\n// let anFile45 = `${folder01}RayOfFrost_01_Blue_45ft_2200x400.webm`;\n\n//How you would set it up for the Thrown Dagger01\n// let folder01 = \"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/\";\n// let anFile15 = `${folder01}ThrowingWeapon_Dagger01_15ft_1000x400.webm`;\n// let anFile30 = `${folder01}ThrowingWeapon_Dagger01_30ft_1600x400.webm`;\n// let anFile45 = `${folder01}ThrowingWeapon_Dagger01_45ft_2200x400.webm`;\n\n//How this macro is set up for Disintegrate\nlet folder01 = \"modules/JB2A_DnD5e/Library/6th_Level/Disintegrate/\";\nlet anFile15 = `${folder01}Disintegrate_01_Regular_Green01_15ft_1000x400.webm`;\nlet anFile30 = `${folder01}Disintegrate_01_Regular_Green01_30ft_1600x400.webm`;\nlet anFile45 = `${folder01}Disintegrate_01_Regular_Green01_45ft_2200x400.webm`;\n\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\nlet anFile = anFile15;\nlet anFileSize = 600;\nlet anchorX = 0.2;\nswitch(true){\n case (anDist<=600):\n    anFileSize = 600;\n    anFile = anFile15;\n    anchorX = 0.2;\n    break;\n case (anDist>1200):\n    anFileSize = 1800;\n    anFile = anFile45;\n    anchorX = 0.091;\n    break;\n default:\n    anFileSize = 1200;\n    anFile = anFile30;\n    anchorX = 0.125;\n    break;\n}\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anScale;\nif (anDist<=300){anScaleY = 0.7}\nif (anDist>=400 && anDist<=600){anScaleY = anScale*0.9}\nif (anDist>=700 && anDist<=900){anScaleY = 0.8}\nif (anDist>=1000 && anDist<=1200){anScaleY = anScale*0.9}\nif (anDist>=1300 && anDist<=1500){anScaleY = 0.6}\nif (anDist>=1600 && anDist<=1800){anScaleY = 0.8}\nif (anDist>=1800){anScaleY = anScale}\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (500);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/6th_Level/Disintegrate/Disintegrate_01_Regular_Green01_Thumb.webp","actorIds":[]}
{"_id":"TjMV2ahxH9h26Z3P","name":"A Readme First Macro - Execute To Read","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.ZeyBlm9R366yHznO"}},"scope":"global","command":"let d = new Dialog({\n    title: `Disclaimer Macro`,\n    content: `<h1>Welcome to JB2A's Macros</h1><p>First, we'd like to thank Otigon for his major contribution in these macros as well as lazytron, Kandashi, Crymic, Kekilla, ygg, Paff, MagoRaion, Nerull and all of our patrons. These macros wouldn't have been possible without you all. Thank you ! &#x1F496;</p><br>We want to make sure we don't advertise something we are not. We are artists, designing animations first and foremost. We are not coders, at all ! We cannot take credit for these macros !</p><p> We were so excited at the prospect of macros that we originally started filling this compendium with all of our spells.&#x1F605;<br>However, these macros are constantly being improved on and it takes time to set them all up everytime a change is made ! So for this release, we have limited our collection of macros to 'type examples' or 'Blueprints' on how to use them with our assets so you can experiment and try them for yourself. If you're new to this, try importing the first blueprint, then duplicate it, rename it and try changing the paths of the files being used. Don't hesitate to ask questions in our JB2A Discord server, in the macro-discussion channel. We'll answer to the best of our abilities and more clever people than us will help you as well, I'm sure &#x1F601;<br><strong>Pre-requisite : You need the module FXMaster installed and activated</strong> <br>We'd like to wait until every macro is stable in order to add them back into this compendium. <br>Otigon has very kindly set up a Github with his own collection of macros if you want to experiment yourself <a href=\"https://github.com/otigon/Foundry-Macros/\"onclick=\"return confirm('Please click on OK to continue.');\">here</a>. You may want to wait a few days after the release so that the Github macros are up to date ! Happy Macros !</p><p>Jules&Ben &#x1F596;</p>`,\n\n\n    buttons: {\n        one: {\n         icon: '<i class=\"fas fa-check\"></i>',\n         label: \"OK\",\n        },\n\n    },\n  });\n  d.render(true);","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/jb2acover02.png","actorIds":[]}
{"name":"Create Actor - Dancing Light","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.FH8zKcm8SixQQxKi"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",        \n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n  let testFolder = game.folders.find(f => f.name === \"Dancing Light\" && f.type === \"Actor\");\n  if(!testFolder) testFolder = await Folder.create({ name : `Dancing Light`, type : `Actor`, parent : null });\n\n  await Actor.create({\n    name: \"Dancing light\",\n    type: \"npc\",\n    img: \"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_01_BlueYellow_Thumb.webp\",\n    folder: testFolder.id,\n    sort: 12000,\n    token: { img: \"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_01_BlueYellow_200x200.webm\", scale: 0.8},\n    \"token.vision\": true,\n    \"token.disposition\": 1,\n    \"token.dimLight\": 10,\n    \"token.lightAnimation\":{type: \"torch\", speed: 3, intensity: 7},\n    \"token.lightColor\": \"#ffde85\",\n    \"token.lightAlpha\": 0.2,\n  })\n})();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/Cantrip/Dancing_Lights/DancingLights_01_BlueYellow_Thumb.webp","actorIds":[],"_id":"TwEDOSZieCbjdpAa"}
{"name":"Create Actor - Flaming Sphere - Wildcard","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.XhhAIBjXAwrdcoX8"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",\n       //callback: () => console.log(\"Chose One\")\n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n    let testFolder = game.folders.find(f => f.name === \"Flaming Sphere\" && f.type === \"Actor\");\n    if(!testFolder) testFolder = await Folder.create({ name : `Flaming Sphere`, type : `Actor`, parent : null });\n  \n    await Actor.create({\n      name: \"Flaming Sphere - Wildcard\",\n      type: \"npc\",\n      img: \"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_01_Green_Thumb.webp\",\n      folder: testFolder.id,\n      sort: 12000,\n      token: { img: \"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_*.webm\", scale:1},\n      \"token.randomImg\": true,\n      \"token.disposition\": 1,\n      \"token.vision\": true,\n      \"token.dimLight\": 40,\n      \"token.brightLight\": 20,\n      \"token.lightAnimation\":{type: \"torch\", speed: 10, intensity: 1},\n      \"token.lightColor\": \"#ffde85\",\n      \"token.lightAlpha\": 0.09,\n    })\n  })();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_01_Green_Thumb.webp","actorIds":[],"_id":"UpU7rUC4pgZ2YgRT"}
{"name":"Blueprint Animation OnTargetFX","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.B14ZptISDhdxLYtd"}},"scope":"global","command":"//This macro plays the animation on selected targets with no trajectory\n//It works for animations like Cure Wounds, Healing Ability and Dizzy Stars \n//Import this macro, duplicate it and change its name making sure it's unique by adding the colour (i.e. \"Cure Wounds Blue\").\n//If it has the exact same name as the spell or item you want to trigger it from, you'll encounter an issue.\n//folder 01 is the directory path to the assets\nlet folder01 = \"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/\";\n//anFile is the name of the file used for the animation\nlet anFile = `${folder01}CureWounds_01_Blue_200x200.webm`;\n\n//another example would be:\n//let folder01 = \"modules/JB2A_DnD5e/Library/Generic/Healing/\"\n//let anFile = `${folder01}HealingAbility_01_Green_200x200.webm`;\n\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\n\n\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet tarScale = ((mainTarget.data.width + mainTarget.data.height)/2);\n\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: mainTarget.center,\n                      anchor: {\n                       x: 0.5,\n                       y: 0.5\n                      },\n                      angle: 0,\n                      scale: {\n                       x: tarScale,\n                       y: tarScale\n                      }\n                    }; \ncanvas.fxmaster.playVideo(spellAnim);\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (75);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_Thumb.webp","actorIds":[],"_id":"fR8rfze0R15GzCUd"}
{"name":"Create Actor - Flaming Sphere","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.wH1oxGvmKdTAvy06"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",\n       //callback: () => console.log(\"Chose One\")\n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n    let testFolder = game.folders.find(f => f.name === \"Flaming Sphere\" && f.type === \"Actor\");\n    if(!testFolder) testFolder = await Folder.create({ name : `Flaming Sphere`, type : `Actor`, parent : null });\n  \n    await Actor.create({\n      name: \"Flaming Sphere\",\n      type: \"npc\",\n      img: \"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_01_Orange_Thumb.webp\",\n      folder: testFolder.id,\n      sort: 12000,\n      token: { img: \"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_01_Orange_200x200.webm\", scale:1},      \n      \"token.vision\": true,\n      \"token.disposition\": 1,\n      \"token.dimLight\": 40,\n      \"token.brightLight\": 20,\n      \"token.lightAnimation\":{type: \"torch\", speed: 10, intensity: 1},\n      \"token.lightColor\": \"#ffde85\",\n      \"token.lightAlpha\": 0.09,\n    })\n  })();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/2nd_Level/Flaming_Sphere/FlamingSphere_01_Orange_Thumb.webp","actorIds":[],"_id":"gSD7iCjEnd7Q9zSR"}
{"name":"Create Actor - Arcane Hand","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.WTTm1QEMEx9HR3Cs"}},"scope":"global","command":"//This macro creates an Arcane Hand Actor\n//You can then modify it in the Actors tab or duplicate it as you would any other Actor\n\nlet d = new Dialog({\n    title: \"Token Creation Macro\",\n    content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n    buttons: {\n        one: {\n         icon: '<i class=\"fas fa-check\"></i>',\n         label: \"OK\",\n         //callback: () => console.log(\"Chose One\")\n        },\n      \n    },\n  });\n  d.render(true);\n  \n  \n  (async ()=>{\n      let testFolder = game.folders.find(f => f.name === \"Arcane Hand\" && f.type === \"Actor\");\n      if(!testFolder) testFolder = await Folder.create({ name : `Arcane Hand`, type : `Actor`, parent : null });\n    \n      await Actor.create({\n        name: \"Arcane Hand\",\n        type: \"npc\",\n        img: \"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_Human_01_Idle_Blue_Thumb.webp\",\n        folder: testFolder.id,\n        sort: 12000,\n        token: { img: \"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_Human_01_Idle_Blue_400x400.webm\", scale: 1.5\n       },\n        \"token.vision\": true,\n        \"data.abilities.str\" : {value: 26},\n        \"data.attributes.ac\": {value: 20, min: 20},\n        \"data.attributes.hp\": {value: 0, min:0, max:0},\n        \"token.disposition\": 1,\n        \"token.width\": 2,\n        \"token.height\": 2,\n        \"data.attributes.movement\": {walk: 60},\n  \n      })\n    })();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_Human_01_Idle_Blue_Thumb.webp","actorIds":[],"_id":"gwfe2w59ZDOQChrU"}
{"name":"Blueprint Random Projectile x1","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.8CSStDFwPkXZUdDy"}},"scope":"global","command":"/// This macro pulls from the JB2A list of Magic Missiles to throw 1 random path at targeted tokens\n\n//folder01 targets the Magic Missile Folder\nlet folder01 = \"modules/JB2A_DnD5e/Library/1st_Level/Magic_Missile/\";\n//Each file is then defined as a variable that will be stored in an array and then chose at random\nlet mmA = `${folder01}MagicMissile_01_Purple_30ft_01_1600x400.webm`;\nlet mmB = `${folder01}MagicMissile_01_Purple_30ft_02_1600x400.webm`;\nlet mmC = `${folder01}MagicMissile_01_Purple_30ft_03_1600x400.webm`;\nlet mmD = `${folder01}MagicMissile_01_Purple_30ft_04_1600x400.webm`;\nlet mmE = `${folder01}MagicMissile_01_Purple_30ft_05_1600x400.webm`;\nlet mmF = `${folder01}MagicMissile_01_Purple_30ft_06_1600x400.webm`;\nlet mmG = `${folder01}MagicMissile_01_Purple_30ft_07_1600x400.webm`;\nlet mmH = `${folder01}MagicMissile_01_Purple_30ft_08_1600x400.webm`;\nlet mmI = `${folder01}MagicMissile_01_Purple_30ft_09_1600x400.webm`;\n\nlet mmAA = `${folder01}MagicMissile_01_Purple_60ft_01_2800x400.webm`;\nlet mmBB = `${folder01}MagicMissile_01_Purple_60ft_02_2800x400.webm`;\nlet mmCC = `${folder01}MagicMissile_01_Purple_60ft_03_2800x400.webm`;\nlet mmDD = `${folder01}MagicMissile_01_Purple_60ft_04_2800x400.webm`;\nlet mmEE = `${folder01}MagicMissile_01_Purple_60ft_05_2800x400.webm`;\nlet mmFF = `${folder01}MagicMissile_01_Purple_60ft_06_2800x400.webm`;\nlet mmGG = `${folder01}MagicMissile_01_Purple_60ft_07_2800x400.webm`;\nlet mmHH = `${folder01}MagicMissile_01_Purple_60ft_08_2800x400.webm`;\nlet mmII = `${folder01}MagicMissile_01_Purple_60ft_09_2800x400.webm`;\n\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n\n\n\nfunction random_itemA(itemsA)\n{\nreturn itemsA[Math.floor(Math.random()*itemsA.length)];\n}\n\nvar itemsA = [mmA, mmB, mmC, mmD, mmE, mmF, mmG, mmH, mmI];\n\nfunction random_itemB(itemsB)\n{\nreturn itemsB[Math.floor(Math.random()*itemsB.length)];\n}\n\nvar itemsB = [mmAA, mmBB, mmCC, mmDD, mmEE, mmFF, mmGG, mmHH, mmII];\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\nlet anFile = random_itemA(itemsA);\nlet anFileSize = 1200;\nlet anchorX = 0.125;\nswitch(true){\n case (anDist<1800):\n    anFileSize = 1200;\n    anFile = random_itemA(itemsA);\n    anchorX = 0.125;\n    break;\n default:\n    anFileSize = 2400;\n    anFile = random_itemB(itemsB);\n    anchorX = 0.071;\n    break;\n}\n\n\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anScale;\nif (anDist<=600){anScaleY = 0.5}\nif (anDist>600 && anDist <1000){anScaleY = 0.66}\nif (anDist>=1000 && anDist <1800){anScaleY = anScale}\nif (anDist>=1800 && anDist <2400){anScaleY = 0.8}\nif (anDist>=2400){anScaleY = anScale}\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\nawait wait (80);\n\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (50);\n}\n}\nCast()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/1st_Level/Magic_Missile/MagicMissile_01_Purple_Thumb.webp","actorIds":[],"_id":"o2LsYFJtCwOniPJn"}
{"name":"Create Actor - Arcane Hand - Wildcard","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.Is8kuDGkblXTDtmG"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",\n       //callback: () => console.log(\"Chose One\")\n      },\n    \n  },\n});\nd.render(true);\n\n\n(async ()=>{\n    let testFolder = game.folders.find(f => f.name === \"Arcane Hand\" && f.type === \"Actor\");\n    if(!testFolder) testFolder = await Folder.create({ name : `Arcane Hand`, type : `Actor`, parent : null });\n  \n    await Actor.create({\n      name: \"Arcane Hand - Wildcard\",\n      type: \"npc\",\n      img: \"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_Human_01_Idle_Green_Thumb.webp\",\n      folder: testFolder.id,\n      sort: 12000,\n      token: { img: \"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_*.webm\", scale: 1.5\n     },\n      \"token.vision\": true,\n      \"data.abilities.str\" : {value: 26},\n      \"token.randomImg\": true,\n      \"token.vision\": true,\n      \"data.abilities.str\" : {value: 26},\n      \"data.attributes.ac\": {value: 20, min: 20},\n      \"data.attributes.hp\": {value: 0, min:0, max:0},\n      \"token.disposition\": 1,\n      \"token.width\": 2,\n      \"token.height\": 2,\n      \"data.attributes.movement\": {walk: 60},\n\n    })\n  })();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/5th_Level/Arcane_Hand/ArcaneHand_Human_01_Idle_Green_Thumb.webp","actorIds":[],"_id":"rZHyLdR4yiauzWFv"}
{"name":"Blueprint CasterToTarget 15ft 30ft","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.vwO0F2n3b7BQgons"}},"scope":"global","command":"//This macro plays the animation on selected targets with a trajectory and distances of 15ft and 30ft\n//It works for Witch Bolt\n//Import this macro, duplicate it and change its name making sure it's unique by adding the colour (i.e. \"Witch Bolt Dark Green\").\n//If it has the exact same name as the spell or item you want to trigger it from, you'll encounter an issue.\n//folder 01 is the directory path to the assets\nlet folder01 = \"modules/JB2A_DnD5e/Library/1st_Level/Witch_Bolt/\";\n//anFile15 is the name of the file used for 15ft and anFile30 for the 30ft distance\nlet anFile15 = `${folder01}WitchBolt_01_Regular_Blue_15ft_1000x400.webm`;\nlet anFile30 = `${folder01}WitchBolt_01_Regular_Blue_30ft_1600x400.webm`;\n\n//another example would be :\n//let folder01 = \"modules/JB2A_DnD5e/Library/1st_Level/Witch_Bolt/\";\n//let anFile15 = `${folder01}WitchBolt_01_Dark_Green_15ft_1000x400.webm`;\n//let anFile30 = `${folder01}WitchBolt_01_Dark_Green_30ft_1600x400.webm`;\n\nif(game.user.targets.size == 0) ui.notifications.error('You must target at least one token');\nif(canvas.tokens.controlled.length == 0) ui.notifications.error(\"Please select your token\");\n///Check if Module dependencies are installed or returns an error to the user\nif (!canvas.fxmaster) ui.notifications.error(\"This macro depends on the FXMaster module. Make sure it is installed and enabled\");\n\n\nconst wait = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\n\nasync function Cast() {\nvar myStringArray = Array.from(game.user.targets)[0];\nvar arrayLength = game.user.targets.size;\nfor (var i = 0; i < arrayLength; i++) {\n\nlet mainTarget = Array.from(game.user.targets)[i];\nlet myToken = canvas.tokens.controlled [0];\n\nlet ray = new Ray(myToken.center, mainTarget.center);\nlet anDeg = -(ray.angle * 57.3);\nlet anDist = ray.distance;\n\nlet anchorX = 0.2;\nlet anFile = anFile15;\nlet anFileSize = 600;\n\nswitch(true){\n  case (anDist<450):\n     anFileSize = 600;\n     anFile = anFile15;\n     anchorX = 0.2;\n     break;\n  case (anDist>=450 && anDist<750):\n     anFileSize = 1200;\n     anFile = anFile30;\n     anchorX = 0.125;\n     break;\n  default:\n    anFileSize = 1200;\n    anFile = anFile30;\n    anchorX = 0.125;\n    break;\n}\n\n\nlet anScale = anDist / anFileSize;\nlet anScaleY = anDist <= 200 ? 0.66  : anScale;\n\nlet spellAnim = \n                    {\n                     file: anFile,\n                      position: myToken.center,\n                      anchor: {\n                       x: anchorX,\n                       y: 0.5\n                      },\n                      angle: anDeg,\n                      scale: {\n                       x: anScale,\n                       y: anScaleY\n                      }\n                    }; \n\ncanvas.fxmaster.playVideo(spellAnim);\ngame.socket.emit('module.fxmaster', spellAnim);\nawait wait (250);\n}\n}\nCast ()","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/1st_Level/Witch_Bolt/WitchBolt_01_Regular_Blue_Thumb.webp","actorIds":[],"_id":"szcICrECFQx3vSZb"}
{"name":"Create Actor - Spiritual Weapon - Wildcard","permission":{"default":0,"066uQc4r4QbAEw6n":3},"type":"script","flags":{"core":{"sourceId":"Macro.lqmE2qByRH08YfjS"}},"scope":"global","command":"let d = new Dialog({\n  title: \"Token Creation Macro\",\n  content: \"<p>Your actor has been created in its corresponding folder in your Actor Directory panel.</p><br><p> Set permissions for it and drag on the scene when needed !</p>\",\n  buttons: {\n      one: {\n       icon: '<i class=\"fas fa-check\"></i>',\n       label: \"OK\",\n       //callback: () => console.log(\"Chose One\")\n      },\n    \n  },\n});\nd.render(true);\n\n(async ()=>{\n  let testFolder = game.folders.find(f => f.name === \"Spiritual Weapon\" && f.type === \"Actor\");\n  if(!testFolder) testFolder = await Folder.create({ name : `Spiritual Weapon`, type : `Actor`, parent : null });\n\n  await Actor.create({\n    name: \"Spiritual Weapon - Wildcard\",\n    type: \"npc\",\n    img: \"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon_Maul01_01_Flaming_Yellow_Thumb.webp\",\n    folder: testFolder.id,\n    sort: 12000,\n    token: { img: \"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon*.webm\", scale: 2},\n    \"token.randomImg\": true,\n    \"token.disposition\": 1,\n    \"token.vision\": true,\n  })\n})();","author":"066uQc4r4QbAEw6n","img":"modules/JB2A_DnD5e/Library/2nd_Level/Spiritual_Weapon/SpiritualWeapon_Mace01_01_Flaming_Yellow_Thumb.webp","actorIds":[],"_id":"z46lZwWbJyHRs2t6"}
